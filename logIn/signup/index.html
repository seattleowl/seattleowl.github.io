<html>
    <head>
        <title>Sign-up</title>
        <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
        <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
    </head>

    <body>
        <div id="sign-up">
            <input type="email" id="email" placeholder="Email"><br>
            <input type="text" id="username" placeholder="Username"><br>
            <input type="password" id="password" placeholder="Password"><br>
            <button onclick="signUp(document.getElementById('email').value, document.getElementById('password').value, document.getElementById('username').value)">Sign Up â†’</button>
        </div>
    </body>
    <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase.js"></script>
    <script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyCOl5X_iwUBuvzFn1ewaVMKRmWhyadTUCg",
        authDomain: "seattleowl-database.firebaseapp.com",
        databaseURL: "https://seattleowl-database.firebaseio.com",
        projectId: "seattleowl-database",
        storageBucket: "seattleowl-database.appspot.com",
        messagingSenderId: "393896566440"
    };
    firebase.initializeApp(config);

    // Sign up
    function signUp(email, password, username) {
        firebase.auth().createUserWithEmailAndPassword(email, password)
            .then(() => {
                let user = firebase.auth().currentUser
                user.updateProfile({
                    displayName: username
                })
                location.href = "../../dashboard"
            })
            .catch(function(error) {
                // Handle Errors here.
                var errorCode = error.code;
                var errorMessage = error.message;
                if (errorCode === 'auth/wrong-password' || errorCode === "auth/user-not-found") {
                    alert('Wrong password.');
                } else {
                    alert(errorMessage);
                }
                console.log(error);
        });
    }
    </script>
</html>